import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function slider(){if(document.querySelector(".slider-image")){let t=!1;var e=new Swiper(".slider-image",{slidesPerView:1,watchSlidesProgress:!0,speed:1e3,loop:!1,allowTouchMove:!0,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".slider-paginations",type:"fraction"},on:{slideChangeTransitionStart:function(){var e;t||(t=!0,e=document.querySelectorAll(".current-title"),gsap.to(e,{autoAlpha:0,y:-20,ease:"power2.out",duration:.3}),setTimeout(()=>{var e=this.slides[this.activeIndex].getAttribute("data-caption"),t=document.querySelector(".slider-captions"),t=(t&&e&&(t.innerHTML=`<p class='current-title mb-0'>${e}</p>`),document.querySelectorAll(".current-title"));gsap.fromTo(t,{autoAlpha:0,y:20},{autoAlpha:1,y:0,ease:"power2.out",duration:.4,delay:.1})},200))},slideChangeTransitionEnd:function(){t=!1},progress(i){i.slides.forEach(e=>{var t=(e.progress||0)*(.9*i.width);isNaN(t)||(e=e.querySelector(".parallax-img"))&&(e.style.transform=`translate3d(${t}px, 0, 0)`)})},touchStart(e){e.slides.forEach(e=>{e.style.transition=""})},setTransition(e,t){let i="cubic-bezier(0.25, 0.1, 0.25, 1)";e.slides.forEach(e=>{e.style.transition=t+"ms "+i;e=e.querySelector(".parallax-img");e&&(e.style.transition=t+"ms "+i)})}}}),e=e.slides[e.activeIndex].getAttribute("data-caption"),i=document.querySelector(".slider-captions");i&&e&&(i.innerHTML=`<p class='current-title mb-0'>${e}</p>`)}}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),slider()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});