import{preloadImages}from"../../libs/utils.js";function paronomaImage(){let i=["./assets/images/360-tour/frame_000.jpg","./assets/images/360-tour/frame_001.jpg","./assets/images/360-tour/frame_002.jpg"],n=0,a=new THREE.Scene,t=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);t.position.set(0,0,.1);var e=document.getElementById("paronama-tour");let o=new THREE.WebGLRenderer({canvas:e,antialias:!0});o.setSize(window.innerWidth,window.innerHeight);e=new THREE.SphereGeometry(500,60,40);e.scale(-1,1,1);let r=new THREE.TextureLoader,s=new THREE.MeshBasicMaterial({map:r.load(i[n])});e=new THREE.Mesh(e,s),a.add(e),e=new THREE.OrbitControls(t,o.domElement);e.enableZoom=!0,e.enablePan=!1,window.addEventListener("wheel",e=>{e.preventDefault();e=t.fov+.05*e.deltaY,e=Math.max(30,Math.min(100,e));t.fov=e,t.updateProjectionMatrix()},{passive:!1});let d=document.querySelector(".paronama-tour .prev"),l=document.querySelector(".paronama-tour .next");function c(){0===n?(d.disabled=!0,d.classList.add("disabled")):(d.disabled=!1,d.classList.remove("disabled")),n===i.length-1?(l.disabled=!0,l.classList.add("disabled")):(l.disabled=!1,l.classList.remove("disabled"))}function m(e){n=Math.max(0,Math.min(e,i.length-1));e=r.load(i[n]);s.map.dispose(),s.map=e,c()}d.addEventListener("click",()=>{0<n&&m(n-1)}),l.addEventListener("click",()=>{n<i.length-1&&m(n+1)}),c(),function e(){requestAnimationFrame(e),o.render(a,t)}(),window.addEventListener("resize",()=>{t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)});let w=$(".paronama-tour .control-hide");w.on("click",function(){w.toggleClass("active"),$("#header, .cta-calling").toggleClass("hide-header")})}$=jQuery;let init=()=>{gsap.registerPlugin(ScrollTrigger),paronomaImage()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});